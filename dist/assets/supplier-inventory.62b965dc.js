import{P as _}from"./products-api.service.b447a150.js";import{_ as k,E as I,h as c,j as V,k as L,q as t,l as i,m as n,A as x,v as r,t as g,B as T,C as O}from"./index.eefdc7f8.js";import"./http-common.12b2197e.js";const B={name:"supplier-inventory",data(){return{supplierId:Number,products:{},layout:"grid",sortOrder:null,sortField:null,searchTerm:"",sortKey:null,displayConfirmation:!1,sortOptions:[{label:"Price High to Low",value:"!price"},{label:"Price Low to High",value:"price"}]}},productService:null,created(){const s=I();this.supplierId=s.params.id,this.getProductsBySupplier(this.supplierId)},methods:{getProductsBySupplier(s){this.productService=new _,this.productService.findBySupplierID(this.supplierId).then(o=>{this.products=o.data})},filter(){this.productService=new _,this.productService.findBySupplierID(this.supplierId).then(s=>{this.products=s.data,this.searchTerm!=null&&(this.products=this.products.filter(o=>o.name.toLowerCase().includes(this.searchTerm.toLowerCase())||o.category.toLowerCase().includes(this.searchTerm.toLowerCase())||String(o.available).toLowerCase().includes(this.searchTerm.toLowerCase())||String(o.rating).toLowerCase().includes(this.searchTerm.toLowerCase())||String(o.price).toLowerCase().includes(this.searchTerm.toLowerCase())))})},addProduct(){this.$router.push({name:"supplier-inventory-add-product",params:{id:this.supplierId}})},onSortChange(s){const o=s.value.value,m=s.value;o.indexOf("!")===0?(this.sortOrder=-1,this.sortField=o.substring(1,o.length),this.sortKey=m):(this.sortOrder=1,this.sortField=o,this.sortKey=m)},getTotalProducts(){return this.products.length},deleteItem(s){this.productService=new _,this.productService.delete(s).then(o=>{}),this.$router.go()},openConfirmation(){this.displayConfirmation=!0},closeConfirmation(){this.displayConfirmation=!1}}},p=s=>(T("data-v-26462475"),s=s(),O(),s),E=p(()=>t("h1",{class:"header",style:{"text-align":"center"}}," My Products",-1)),q={align:"center"},F=p(()=>t("span",{class:"mat-button-wrapper"},"Add new product",-1)),N=p(()=>t("span",{matripple:"",class:"mat-ripple mat-button-ripple"},null,-1)),K=p(()=>t("span",{class:"mat-button-focus-overlay"},null,-1)),U={class:"card"},z={class:"grid grid-nogutter"},A={class:"field col-12 md:col-10"},D={class:"p-input-icon-left",style:{width:"100%"}},H=p(()=>t("i",{class:"pi pi-search"},null,-1)),j={class:"field col-12 md:col-1",style:{"text-align":"left"}},M={class:"field col-12 md:col-1",style:{"text-align":"right"}},R={class:"col-12"},G={class:"product-list-item"},J=["src","alt"],Q={class:"product-list-detail"},W={class:"product-name"},X={class:"product-description"},Y=p(()=>t("i",{class:"pi pi-tag product-category-icon"},null,-1)),Z={class:"product-category"},P={class:"product-list-action"},$={class:"product-price"},tt=p(()=>t("div",{class:"confirmation-content"},[t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),t("span",null,"Esta seguro que quiere eliminar este producto ?")],-1)),et={class:g("product-badge status-")},ot={class:"col-12 md:col-4"},it={class:"product-grid-item card"},st={class:"product-grid-item-top"},at=p(()=>t("i",{class:"pi pi-tag product-category-icon"},null,-1)),lt={class:"product-category"},nt={class:"product-grid-item-content"},rt=["src","alt"],dt={class:"product-name"},ct={class:"product-description"},pt={class:"product-grid-item-bottom"},ut=p(()=>t("div",{class:"confirmation-content"},[t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),t("span",null,"Esta seguro que quiere eliminar este producto ?")],-1));function mt(s,o,m,_t,a,l){const d=c("pv-button"),f=c("pv-input-text"),C=c("pv-drop-down"),b=c("pv-dataViewLayoutOption"),w=c("pv-card"),h=c("pv-rating"),v=c("router-link"),y=c("pv-dialog"),S=c("pv-data-view");return V(),L("body",null,[E,t("div",q,[i(d,{class:"mat-focus-indicator but mat-raised-button mat-button-base",onClick:o[0]||(o[0]=e=>l.addProduct())},{default:n(()=>[F,N,K]),_:1})]),t("div",U,[i(S,{class:"product-view",value:a.products,layout:a.layout,paginator:!0,rows:9,sortOrder:a.sortOrder,sortField:a.sortField},{header:n(()=>[t("div",z,[t("div",A,[t("span",D,[H,i(f,{style:{width:"100%"},placeholder:"Keyword Search",modelValue:a.searchTerm,"onUpdate:modelValue":o[1]||(o[1]=e=>a.searchTerm=e),onKeydown:o[2]||(o[2]=e=>l.filter())},null,8,["modelValue"])])]),t("div",j,[i(C,{style:{width:"100%"},modelValue:s.sortkey,"onUpdate:modelValue":o[3]||(o[3]=e=>s.sortkey=e),options:a.sortOptions,optionLabel:"label",placeholder:"Sort By Price",onChange:o[4]||(o[4]=e=>l.onSortChange(e))},null,8,["modelValue","options"])]),t("div",M,[i(b,{modelValue:a.layout,"onUpdate:modelValue":o[5]||(o[5]=e=>a.layout=e)},null,8,["modelValue"])])]),i(w,{class:"quantityProduct"},{title:n(()=>[x(" Total search products: "+r(l.getTotalProducts()),1)]),_:1})]),list:n(e=>[t("div",R,[t("div",G,[t("img",{src:e.data.image,alt:e.data.name},null,8,J),t("div",Q,[t("div",W,r(e.data.name),1),t("div",X,r(e.data.description),1),i(h,{modelValue:e.data.rating,readonly:!0,cancel:!1},null,8,["modelValue"]),Y,t("span",Z,r(e.data.category),1)]),t("div",P,[t("span",$,"$"+r(e.data.price),1),i(v,{to:{name:"supplier-inventory-edit-product",params:{pId:e.data.id}}},{default:n(()=>[i(d,{icon:"pi pi-pencil",label:"Editar"})]),_:2},1032,["to"]),i(d,{label:"Eliminar",icon:"pi pi-trash",class:"p-button-secondary",onClick:l.openConfirmation},null,8,["onClick"]),i(y,{header:"Confirmacion",visible:a.displayConfirmation,"onUpdate:visible":o[6]||(o[6]=u=>a.displayConfirmation=u),style:{width:"350px"},modal:!0},{footer:n(()=>[i(d,{label:"No",icon:"pi pi-times",onClick:l.closeConfirmation,class:"p-button-text"},null,8,["onClick"]),i(d,{label:"Si",icon:"pi pi-check",onClick:[l.closeConfirmation,u=>l.deleteItem(e.data.id)],class:"p-button-text",autofocus:""},null,8,["onClick"])]),default:n(()=>[tt]),_:2},1032,["visible"]),t("span",et,r(e.data.available),1)])])])]),grid:n(e=>[t("div",ot,[t("div",it,[t("div",st,[t("div",null,[at,t("span",lt,r(e.data.category),1)]),t("span",{class:g("product-badge status-"+String(e.data.available).toLowerCase())},r(e.data.available),3)]),t("div",nt,[t("img",{src:e.data.image,alt:e.data.name},null,8,rt),t("div",dt,r(e.data.name),1),t("div",ct,r(e.data.description),1),i(h,{modelValue:e.data.rating,readonly:!0,cancel:!1},null,8,["modelValue"])]),t("div",pt,[i(v,{to:{name:"supplier-inventory-edit-product",params:{pId:e.data.id}}},{default:n(()=>[i(d,{icon:"pi pi-pencil",label:"Editar"})]),_:2},1032,["to"]),i(d,{label:"Eliminar",icon:"pi pi-trash",class:"p-button-secondary",onClick:l.openConfirmation},null,8,["onClick"]),i(y,{header:"Confirmacion",visible:a.displayConfirmation,"onUpdate:visible":o[7]||(o[7]=u=>a.displayConfirmation=u),style:{width:"350px"},modal:!0},{footer:n(()=>[i(d,{label:"No",icon:"pi pi-times",onClick:l.closeConfirmation,class:"p-button-text"},null,8,["onClick"]),i(d,{label:"Si",icon:"pi pi-check",onClick:[l.closeConfirmation,u=>l.deleteItem(e.data.id)],class:"p-button-text",autofocus:""},null,8,["onClick"])]),default:n(()=>[ut]),_:2},1032,["visible"])])])])]),_:1},8,["value","layout","sortOrder","sortField"])])])}const gt=k(B,[["render",mt],["__scopeId","data-v-26462475"]]);export{gt as default};
