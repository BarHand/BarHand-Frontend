import{P as y}from"./products-api.service.b447a150.js";import{_ as C,E as L,h as d,j as f,k as b,q as t,l,m as c,F as S,v as i,t as h,B as V,C as T}from"./index.eefdc7f8.js";import"./http-common.12b2197e.js";const O={name:"view-inventory",data(){return{searchTerm:"",products:{},layout:"grid",sortKey:null,sortOrder:null,sortField:null,sortOptions:[{label:"Price High to Low",value:"!price"},{label:"Price Low to High",value:"price"}]}},productService:null,created(){const s=L();this.searchTerm=s.params.search,this.applyfilterInit(this.searchTerm)},methods:{filter(){this.productService.getAll().then(s=>{this.products=s.data,this.searchTerm!=null&&(this.products=this.products.filter(o=>o.name.toLowerCase().includes(this.searchTerm.toLowerCase())||o.category.toLowerCase().includes(this.searchTerm.toLowerCase())||String(o.available).toLowerCase().includes(this.searchTerm.toLowerCase())||String(o.rating).toLowerCase().includes(this.searchTerm.toLowerCase())||String(o.price).toLowerCase().includes(this.searchTerm.toLowerCase())))})},applyfilterInit(s){this.productService=new y,this.productService.getAll().then(o=>{this.products=o.data,this.searchTerm!=null&&(this.products=this.products.filter(r=>r.name.toLowerCase().includes(s.toLowerCase())||r.category.toLowerCase().includes(s.toLowerCase())||String(r.available).toLowerCase().includes(s.toLowerCase())||String(r.rating).toLowerCase().includes(s.toLowerCase())||String(r.price).toLowerCase().includes(s.toLowerCase())))})},onSortChange(s){const o=s.value.value,r=s.value;o.indexOf("!")===0?(this.sortOrder=-1,this.sortField=o.substring(1,o.length),this.sortKey=r):(this.sortOrder=1,this.sortField=o,this.sortKey=r)}}},n=s=>(V("data-v-d28f2fa2"),s=s(),T(),s),F={class:"p-input-icon-left",style:{width:"100%"}},K=n(()=>t("i",{class:"pi pi-search",style:{color:"white"}},null,-1)),A={class:"card"},I={class:"grid grid-nogutter"},B={class:"col-6",style:{"text-align":"left"}},k={class:"col-6",style:{"text-align":"right"}},U={class:"col-12"},x={class:"product-list-item"},E=["src","alt"],H={class:"product-list-detail"},j={class:"product-name"},q={class:"product-description"},z=n(()=>t("i",{class:"pi pi-tag product-category-icon"},null,-1)),D={class:"product-category"},R={class:"product-list-action"},G={class:"product-price"},J={class:"col-12 md:col-4"},M={class:"product-grid-item card"},Q={class:"product-grid-item-top"},W=n(()=>t("i",{class:"pi pi-tag product-category-icon"},null,-1)),X={class:"product-category"},Y={class:"product-grid-item-content"},Z=["src","alt"],N={class:"product-name"},$={class:"product-description"},P={class:"product-grid-item-bottom"},tt={class:"product-price"};function et(s,o,r,ot,a,u){const m=d("pv-input-text"),v=d("pv-drop-down"),g=d("pv-dataViewLayoutOption"),p=d("pv-rating"),_=d("pv-button"),w=d("pv-data-view");return f(),b(S,null,[t("div",null,[t("span",F,[K,l(m,{style:{width:"100%","background-color":"#66a3c9",color:"white"},placeholder:"Keyword Search",modelValue:a.searchTerm,"onUpdate:modelValue":o[0]||(o[0]=e=>a.searchTerm=e),onKeydown:o[1]||(o[1]=e=>u.filter())},null,8,["modelValue"])])]),t("div",A,[l(w,{value:a.products,layout:a.layout,paginator:!0,rows:9,sortOrder:a.sortOrder,sortField:a.sortField},{header:c(()=>[t("div",I,[t("div",B,[l(v,{modelValue:a.sortKey,"onUpdate:modelValue":o[2]||(o[2]=e=>a.sortKey=e),options:a.sortOptions,optionLabel:"label",placeholder:"Sort By Price",onChange:o[3]||(o[3]=e=>u.onSortChange(e))},null,8,["modelValue","options"])]),t("div",k,[l(g,{modelValue:a.layout,"onUpdate:modelValue":o[4]||(o[4]=e=>a.layout=e)},null,8,["modelValue"])])])]),list:c(e=>[t("div",U,[t("div",x,[t("img",{src:e.data.image,alt:e.data.name},null,8,E),t("div",H,[t("div",j,i(e.data.name),1),t("div",q,i(e.data.description),1),l(p,{modelValue:e.data.rating,readonly:!0,cancel:!1},null,8,["modelValue"]),z,t("span",D,i(e.data.category),1)]),t("div",R,[t("span",G,"$"+i(e.data.price),1),l(_,{icon:"pi pi-shopping-cart",label:"Add to Cart",disabled:e.data.available===!1},null,8,["disabled"]),t("span",{class:h("product-badge status-"+String(e.data.available).toLowerCase())},i(e.data.available),3)])])])]),grid:c(e=>[t("div",J,[t("div",M,[t("div",Q,[t("div",null,[W,t("span",X,i(e.data.category),1)]),t("span",{class:h("product-badge status-"+String(e.data.available).toLowerCase())},i(e.data.available),3)]),t("div",Y,[t("img",{src:e.data.image,alt:e.data.name},null,8,Z),t("div",N,i(e.data.name),1),t("div",$,i(e.data.description),1),l(p,{modelValue:e.data.rating,readonly:!0,cancel:!1},null,8,["modelValue"])]),t("div",P,[t("span",tt,"$"+i(e.data.price),1),l(_,{icon:"pi pi-shopping-cart",disabled:String(e.data.available)==="false"},null,8,["disabled"])])])])]),_:1},8,["value","layout","sortOrder","sortField"])])],64)}const rt=C(O,[["render",et],["__scopeId","data-v-d28f2fa2"]]);export{rt as default};
